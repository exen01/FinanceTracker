@page
@using System.Globalization
@using FinanceTracker.Domain.Enums
@model FinanceTrackerWeb.Pages.Transaction.IndexModel

@{
    ViewData["Title"] = "Транзакции";
}

<h1>@ViewData["Title"]</h1>

<p>
    <a asp-page="Create" class="btn btn-success">+ Новая транзакция</a>
</p>

<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th scope="col">Дата</th>
        <th scope="col">Сумма</th>
        <th scope="col">Категория</th>
        <th scope="col">Описание</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var transaction in Model.Transactions)
    {
        <tr>
            <td>@transaction.Date.ToString(CultureInfo.InvariantCulture)</td>
            @if (transaction.TransactionType == TransactionType.Income)
            {
                <td class="text-success">
                    <strong>+@transaction.Amount</strong>
                </td>
            }
            else
            {
                <td>
                    <strong>-@transaction.Amount</strong>
                </td>
            }
            <td>@transaction.Category.CategoryName</td>
            <td>@transaction.Description</td>
        </tr>
    }
    </tbody>
    <tfoot>
    <tr>
        <th scope="col">Баланс:</th>
        <td colspan="3" class="align-content-end">
            <strong>@Model.Balance</strong>
        </td>
    </tr>
    </tfoot>
</table>

@section scripts{
    <partial name="_ValidationScriptsPartial"/>
}